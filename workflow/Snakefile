import os
import sys
import math
from snakemake.utils import min_version

min_version("6.6")

SDIR = os.path.realpath(os.path.dirname(srcdir("Snakefile")))
shell.prefix(f"export PATH=$PWD/fastCN:$PATH; set -eo pipefail;")


include: "rules/reference.smk"
include: "rules/cn-calling.smk"


wildcard_constraints:
    sm="|".join(config["mappings"].keys()),


rule all:
    input:
        expand(
            rules.make_bb.output,
            sm=config["mappings"].keys(),
            sample=config["reference"],
        ),


"""
        expand(
            rules.fastcn_GC_bin.output
            + rules.make_windows.output
            + rules.autosome_control_windows.output
            + rules.chrX_control_windows.output,
            sample=config["reference"],
        ),
"""
